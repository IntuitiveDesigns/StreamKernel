# -----------------------------------------------------------------------
# CONSUMER CONFIG (Client Side)
# OPTIMIZED FOR: High Throughput, Replay & Consumer Groups
# -----------------------------------------------------------------------

# --- CONSUMER GROUP (New) ---
# Uniquely identifies this application cluster.
# Kafka will split the topic partitions evenly among all active members of this group.
group.id=streamkernel-consumer-group

# What to do if we have no history (New App)?
# 'earliest' = Read from the beginning (Full Replay).
# 'latest' = Read only new messages.
auto.offset.reset=earliest

# --- FETCHING STRATEGY (Throughput Tuning) ---
# "Don't send me data until you have at least 1MB accumulated."
# This drastically reduces network chatter.
fetch.min.bytes=1048576

# Wait up to 500ms for that 1MB to accumulate.
fetch.max.wait.ms=500

# Allow the consumer to pull a massive chunk (50MB) per partition per request.
# Essential for utilizing NVMe read speeds.
max.partition.fetch.bytes=52428800

# --- SOCKET BUFFERS ---
# Ensure the client's network buffer is large enough for the massive fetches.
socket.receive.buffer.bytes=1048576

# --- MANUAL OFFSET CONTROL ---
# Disable auto-commit. You generally want manual control (ack after processing)
# to guarantee "At Least Once" delivery, especially with Virtual Threads processing async.
enable.auto.commit=false

# --- IDENTIFICATION ---
client.id=streamkernel-pipeline-consumer