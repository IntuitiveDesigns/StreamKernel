# =============================================================================
# StreamKernel Profile: mongodb-vector
# Purpose: Use AI_ENRICHMENT transformer + MongoVectorSink (vector writes)
# =============================================================================

pipeline.name=StreamKernel-MongoVector
pipeline.version=4.0.0
app.service.account=service-account-1

pipeline.parallelism=8
pipeline.app.batch.size=200

metrics.enabled=true
metrics.type=PROMETHEUS
metrics.prometheus.port=8080
streamkernel.speedometer.window.seconds=5

# In this flow, you typically ingest from Kafka -> enrich -> write to Mongo.
# Keep source.type=KAFKA when you are ready; SYNTHETIC is fine for smoke testing.
source.type=SYNTHETIC
source.synthetic.payload.size=512
source.synthetic.high.entropy=true

transform.type=AI_ENRICHMENT
cache.type=LOCAL

sink.type=MONGODB

# MongoDB
mongodb.uri=mongodb://localhost:27017
mongodb.database=support_db
mongodb.collection=tickets_vectorized

# DLQ
dlq.type=KAFKA_DLQ
dlq.topic=streamkernel-dlq
dlq.serializer.type=STRING
