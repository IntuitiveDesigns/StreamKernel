# -----------------------------------------------------------------------
# BROKER CONFIG (Server Side)
# OPTIMIZED FOR: Local NVMe Storage, Heavy Replay, No S3
# -----------------------------------------------------------------------

# THREADING
# dedicated threads for handling network requests (Replay is network heavy)
num.network.threads=12
# dedicated threads for writing to disk (Saturate the NVMe)
num.io.threads=8

# LOG SEGMENTS
# Keep segments large (1GB). This helps the OS file cache and improves
# sequential read speeds during replay.
log.segment.bytes=1073741824

# RETENTION (The "Safety Valve")
# Since you have no S3, you MUST set a hard cap to prevent disk overflow.
log.retention.hours=-1
# Example: 500GB limit per partition.
log.retention.bytes=536870912000

# SOCKET BUFFERS (Server Side)
socket.send.buffer.bytes=1048576
socket.receive.buffer.bytes=1048576

# REPLICATION SPEED
num.replica.fetchers=4
replica.fetch.max.bytes=10485760